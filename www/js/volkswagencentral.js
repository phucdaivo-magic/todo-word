(()=>{new EventSource("/esbuild").addEventListener("change",()=>location.reload());var a=class{constructor(t){this.$element=t,this.index=0,this.distance=0,this.isNavigating=!1,this.limitKeepCurrent=50,this.draggingOver=!0,this.rows=1,this.gap=0,Object.entries(this.$element.dataset).forEach(([e,i])=>{isNaN(i)?this[e]=i:this[e]=JSON.parse(i)}),this.init(),this.shouldAddActions(()=>{this.updateIsNavigating(),this.addPagination(),this.addNavigation(),this.addTouchEvents(),this.addMouseDrag(),this.addKeyboardEvents()})}shouldAddActions(t){this.itemList.length>this.rows&&t()}loadImagesSuccess(){return Promise.all(Array.from(this.$element.querySelectorAll("img")).map(t=>new Promise(e=>{t.complete&&e(t),t.onload=()=>{e(t)}})))}init(){this.$element.style.display="flex",this.$element.style.flexDirection="row",this.$element.style.gap=this.gap+"px",this.$element.style.flexWrap="nowrap",this.$element.style.overflow="hidden",this.$element.style.position="relative",this.itemList=this.$element.querySelectorAll(":scope > div"),this.itemList.forEach(t=>{let e=`calc((100% - ${(this.rows-1)*this.gap}px) / ${this.rows})`;t.style.width=e,t.style.maxWidth=e,t.style.minWidth=e,t.style.position="relative",t.style.touchAction="pan-y"})}updateIsNavigating(){this.$element.addEventListener("click",()=>{this.isNavigating=!0}),document.addEventListener("click",t=>{this.$element.contains(t.target)||(this.isNavigating=!1)})}addMouseDrag(){this.$element.addEventListener("mousedown",e=>{e.preventDefault(),this.startX=e.clientX}),this.$element.addEventListener("mousemove",e=>{this.startX&&(this.endX=e.clientX,this.distance=this.endX-this.startX,this.updateView())});let t=e=>{e.preventDefault(),this.endX=e.clientX;let i=this.distance/(this.$element.offsetWidth/this.rows);i<0?i=Math.floor(i):i=Math.ceil(i),this.startX=null,this.distance>this.limitKeepCurrent?(this.index=this.index-i,this.distance=0,this.updateView()):this.distance<-this.limitKeepCurrent&&(this.index=this.index-i,this.distance=0,this.updateView()),this.distance=0,this.updateView()};this.$element.addEventListener("mouseup",t),this.$element.addEventListener("mouseleave",t)}addTouchEvents(){document.addEventListener("scroll",t=>{t.preventDefault(),t.stopPropagation()},{passive:!1}),this.$element.addEventListener("touchstart",t=>{this.startX=t.touches[0].clientX}),this.$element.addEventListener("touchmove",t=>{this.startX&&(this.endX=t.touches[0].clientX,this.distance=this.endX-this.startX,this.updateView())}),this.$element.addEventListener("touchend",t=>{this.endX=t.changedTouches[0].clientX,this.deltaX=this.endX-this.startX,this.startX=null;let e=this.distance/(this.$element.offsetWidth/this.rows);e<0?e=Math.floor(e):e=Math.ceil(e),this.distance>this.limitKeepCurrent?(this.index=this.index-e,this.distance=0,this.updateView()):this.distance<-this.limitKeepCurrent&&(this.index=this.index-e,this.distance=0,this.updateView()),this.distance=0,this.updateView()})}throttle(t,e){let i=0;return function(...s){let n=Date.now();n-i>=e&&(i=n,t.apply(this,s))}}addNavigation(){let t=document.createElement("div");t.classList.add("slider-navigation");let e=document.createElement("button");t.appendChild(e),e.classList.add("slider-navigation-button","slider-navigation-button-next"),e.addEventListener("click",this.throttle(s=>{s.preventDefault(),s.stopPropagation(),this.index>this.itemList.length-this.rows-1?this.index=0:this.index++,this.updateView(!0)},600));let i=document.createElement("button");t.appendChild(i),i.classList.add("slider-navigation-button","slider-navigation-button-prev"),i.addEventListener("click",this.throttle(s=>{s.preventDefault(),s.stopPropagation(),this.index<1?this.index=this.itemList.length-this.rows:this.index--,this.updateView(!0)},600)),this.$element.appendChild(t)}addKeyboardEvents(){document.addEventListener("keydown",t=>{this.isNavigating!==!1&&(t.key==="ArrowRight"?this.index++:t.key==="ArrowLeft"&&this.index--,this.updateView(!0))})}updateView(t=!1){this.index=Math.max(0,this.index),this.index=Math.min(this.index,this.itemList.length-this.rows);let e=this.distance;this.itemList.forEach((i,s)=>{if(this.distance!==0){i.style.transition="none";let n=()=>{this.draggingOver?e=this.distance/6:e=0};this.index===0&&this.distance>0&&n(),this.index===this.itemList.length-this.rows&&this.distance<0&&n()}else t?i.style.transition="transform 0.8s cubic-bezier(0.42, 0, 0.58, 1)":i.style.transition="transform 0.25s cubic-bezier(0.42, 0, 0.58, 1)";i.style.transform=`translate3d(calc(${-this.index*100}% + ${e}px - ${this.gap*this.index}px), 0, 0)`}),this.paginationItems.forEach((i,s)=>{i?.classList?.toggle("slider-pagination-item-active",s===this.index)})}addPagination(){let t=document.createElement("div");t.classList.add("slider-pagination");let e=document.createElement("div");e.classList.add("slider-pagination-content"),this.paginationItems=Array.from(this.itemList).map((i,s)=>{if(s>this.itemList.length-this.rows)return;let n=document.createElement("div");return n.classList.add("slider-pagination-item"),n.classList.toggle("slider-pagination-item-active",s===this.index),n.addEventListener("click",()=>{this.index=s,this.updateView(!0)}),e.appendChild(n),n}),t.appendChild(e),this.$element.appendChild(t)}};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-component="hero-banner"]').forEach(d=>{new a(d)})});})();
