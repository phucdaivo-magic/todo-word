{
  "version": 3,
  "sources": ["../../src/js/amstel.js"],
  "sourcesContent": ["new EventSource(\"/esbuild\").addEventListener(\"change\", () => location.reload());\nclass Slider {\n    constructor($element) {\n        this.$element = $element;\n        this.index = 0;\n        this.distance = 0;\n        this.isNavigating = false;\n        this.limitKeepCurrent = 50;\n        this.draggingOver = false;\n        this.rows = 1;\n        this.gap = 0;\n        this.init();\n        this.shouldAddActions(() => {\n            this.updateIsNavigating();\n            this.addPagination();\n            this.addNavigation();\n            this.addTouchEvents();\n            this.addMouseDrag();\n            this.addKeyboardEvents();\n        });\n    }\n\n    shouldAddActions(callback) {\n        if (this.itemList.length > this.rows) {\n            callback();\n        }\n    }\n\n    loadImagesSuccess() {\n        return Promise.all(Array.from(this.$element.querySelectorAll('img')).map(($img) => {\n            return new Promise((resolve) => {\n                if ($img.complete) {\n                    resolve($img);\n                }\n                $img.onload = () => {\n                    resolve($img);\n                }\n            });\n        }));\n    }\n\n    init() {\n        this.$element.style.display = `flex`;\n        this.$element.style.flexDirection = `row`;\n        this.$element.style.gap = this.gap + 'px';\n        this.$element.style.flexWrap = `nowrap`;\n        this.$element.style.overflow = `hidden`;\n        this.$element.style.position = `relative`;\n        this.itemList = this.$element.querySelectorAll(':scope > div');\n        this.itemList.forEach(($item) => {\n            const calc = `calc((100% - ${(this.rows - 1) * this.gap}px) / ${this.rows})`;\n            $item.style.width = calc;\n            $item.style.maxWidth = calc;\n            $item.style.minWidth = calc;\n            $item.style.position = `relative`;\n            $item.style.touchAction = `pan-y`;\n\n        });\n    }\n\n    updateIsNavigating() {\n        this.$element.addEventListener('click', () => {\n            this.isNavigating = true;\n        });\n\n        document.addEventListener('click', (e) => {\n            if (this.$element.contains(e.target)) {\n                return;\n            }\n            this.isNavigating = false;\n        });\n    }\n\n    addTouchEvents() {\n        this.$element.addEventListener('touchstart', (e) => {\n            this.startX = e.touches[0].clientX;\n        });\n        this.$element.addEventListener('touchmove', (e) => {\n            this.endX = e.touches[0].clientX;\n        });\n        this.$element.addEventListener('touchend', (e) => {\n            this.endX = e.touches[0].clientX;\n            this.deltaX = this.endX - this.startX;\n            if (this.deltaX > this.limitKeepCurrent) {\n                this.index++;\n            }\n        });\n    }\n\n    addMouseDrag() {\n        this.$element.addEventListener('mousedown', (e) => {\n            e.preventDefault();\n            this.startX = e.clientX;\n\n        });\n        this.$element.addEventListener('mousemove', (e) => {\n            if (this.startX) {\n                this.endX = e.clientX;\n                this.distance = this.endX - this.startX;\n                this.updateView();\n            }\n        });\n\n        this.$element.addEventListener('mouseup', (e) => {\n            e.preventDefault();\n            this.endX = e.clientX;\n            this.startX = null;\n            if (this.distance > this.limitKeepCurrent) {\n                this.index--;\n                this.distance = 0;\n                this.updateView();\n            } else if (this.distance < -this.limitKeepCurrent) {\n                this.index++;\n                this.distance = 0;\n                this.updateView();\n            }\n            this.distance = 0;\n            this.updateView();\n\n        });\n\n        this.$element.addEventListener('mouseleave', (e) => {\n            e.preventDefault();\n            this.endX = e.clientX;\n            this.startX = null;\n            this.distance = 0;\n            this.updateView();\n        });\n    }\n\n    addTouchEvents() {\n        document.addEventListener('scroll', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n        }, { passive: false });\n        this.$element.addEventListener('touchstart', (e) => {\n            this.startX = e.touches[0].clientX;\n        });\n        this.$element.addEventListener('touchmove', (e) => {\n            if (this.startX) {\n                this.endX = e.touches[0].clientX;\n                this.distance = this.endX - this.startX;\n                this.updateView();\n            }\n        });\n        this.$element.addEventListener('touchend', (e) => {\n            this.endX = e.changedTouches[0].clientX;\n            this.deltaX = this.endX - this.startX;\n            this.startX = null;\n            if (this.distance > this.limitKeepCurrent) {\n                this.index--;\n                this.distance = 0;\n                this.updateView();\n            } else if (this.distance < -this.limitKeepCurrent) {\n                this.index++;\n                this.distance = 0;\n                this.updateView();\n            }\n            this.distance = 0;\n            this.updateView();\n\n        });\n    }\n\n    throttle(func, delay) {\n        let lastCall = 0;\n        return function (...args) {\n            const now = Date.now();\n            if (now - lastCall >= delay) {\n                lastCall = now;\n                func.apply(this, args);\n            }\n        };\n    }\n\n\n    addNavigation() {\n        const navigation = document.createElement('div');\n        navigation.classList.add('slider-navigation');\n\n        const nextButton = document.createElement('button');\n        navigation.appendChild(nextButton);\n        nextButton.classList.add('slider-navigation-button', 'slider-navigation-button-next');\n\n        // Events\n        nextButton.addEventListener('click', this.throttle((event) => {\n            event.preventDefault();\n            event.stopPropagation();\n            if (this.index > this.itemList.length - this.rows - 1) {\n                this.index = 0;\n            } else {\n                this.index++;\n            }\n            this.updateView(true);\n        }, 600));\n\n        const prevButton = document.createElement('button');\n        navigation.appendChild(prevButton);\n        prevButton.classList.add('slider-navigation-button', 'slider-navigation-button-prev');\n        // Events\n        prevButton.addEventListener('click', this.throttle((event) => {\n            event.preventDefault();\n            event.stopPropagation();\n            // this.index = Math.max(0, this.index - 1);\n            if (this.index < 1) {\n                this.index = this.itemList.length - this.rows;\n            } else {\n                this.index--;\n            }\n\n            this.updateView(true);\n        }, 600));\n\n        this.$element.appendChild(navigation);\n    }\n\n    addKeyboardEvents() {\n        document.addEventListener('keydown', (e) => {\n            if (this.isNavigating === false) return;\n            if (e.key === 'ArrowRight') {\n                this.index++;\n            } else if (e.key === 'ArrowLeft') {\n                this.index--;\n            }\n            this.updateView(true);\n        });\n    }\n\n    updateView(isNavigating = false) {\n        this.index = Math.max(0, this.index);\n        this.index = Math.min(this.index, this.itemList.length - this.rows);\n        let distance = this.distance;\n        this.itemList.forEach(($item, index) => {\n            if (this.distance !== 0) {\n                $item.style.transition = 'none';\n                const updateDistance = () => {\n                    if (this.draggingOver) {\n                        distance = this.distance / 6;\n                    } else {\n                        distance = 0;\n                    }\n                }\n                if (this.index === 0 && this.distance > 0) {\n                    updateDistance();\n                }\n\n                if (this.index === this.itemList.length - this.rows && this.distance < 0) {\n                    updateDistance();\n                }\n            } else {\n                if (isNavigating) {\n                    $item.style.transition = 'transform 0.8s cubic-bezier(0.42, 0, 0.58, 1)';\n                } else {\n                    $item.style.transition = 'transform 0.25s cubic-bezier(0.42, 0, 0.58, 1)';\n                }\n\n            }\n            $item.style.transform = `translate3d(calc(${(-this.index) * 100}% + ${distance}px - ${(this.gap * this.index)}px), 0, 0)`;\n        });\n\n        this.paginationItems.forEach(($item, index) => {\n            $item.classList.toggle('slider-pagination-item-active', index === this.index);\n        });\n    }\n\n    addPagination() {\n        const pagination = document.createElement('div');\n        pagination.classList.add('slider-pagination');\n\n        const paginationContent = document.createElement('div');\n        paginationContent.classList.add('slider-pagination-content');\n\n\n        this.paginationItems = Array.from(this.itemList).map(($item, index) => {\n            if (index > this.itemList.length - this.rows) return;\n            const paginationItem = document.createElement('div');\n            paginationItem.classList.add('slider-pagination-item');\n            paginationItem.classList.toggle('slider-pagination-item-active', index === this.index);\n\n            paginationItem.addEventListener('click', () => {\n                this.index = index;\n                this.updateView(true);\n            });\n\n            paginationContent.appendChild(paginationItem);\n            return paginationItem;\n        });\n\n\n        pagination.appendChild(paginationContent);\n\n        this.$element.appendChild(pagination);\n    }\n\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    document.querySelectorAll('[data-component=\"slider\"]').forEach(($slider) => {\n        new Slider($slider);\n    });\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    document.querySelectorAll('.text-and-media-block').forEach(($block) => {\n        const images = Array.from($block.querySelectorAll('img'));\n        Promise.all(images.map(($img)=> {\n            return new Promise((resolve) => {\n                if ($img.complete) {\n                    resolve($img);\n                }\n                $img.onload = () => {\n                    resolve($img);\n                }\n            });\n        })).then(() => {\n             $block.style.setProperty('--image-height', `${images[0].clientHeight}px`);\n        });\n\n        const title = $block.querySelector('.block-title');\n            title.style.setProperty('--client-child-height', `${title.querySelector(':scope > *').offsetHeight}px`);\n            title.style.setProperty('--client-child-width', `${title.querySelector(':scope > *').offsetWidth}px`);\n    });\n});"],
  "mappings": "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",
  "names": ["Slider", "$element", "callback", "$img", "resolve", "$item", "calc", "e", "func", "delay", "lastCall", "args", "now", "navigation", "nextButton", "event", "prevButton", "isNavigating", "distance", "index", "updateDistance", "pagination", "paginationContent", "paginationItem", "$slider", "$block", "images", "title"]
}
