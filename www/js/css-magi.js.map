{
  "version": 3,
  "sources": ["../../node_modules/css-magi/src/css-magi.js", "../../src/services/useScroll.js", "../../src/js/css-magi.js"],
  "sourcesContent": ["export const id6 = () => '_' + Math.random().toString(36).substring(2, 8);\n\nexport const PSEUDO_SELECTORS = [\n    'hover', 'focus', 'active', 'visited', 'after', 'before',\n    'first', 'last', 'nth-child', 'nth-last-child', 'nth-of-type', 'nth-last-of-type',\n    'only-child', 'only-of-type', 'empty', 'target', 'checked', 'disabled', 'enabled',\n    'required', 'optional', 'valid', 'invalid', 'in-range', 'out-of-range',\n    'read-only', 'read-write', 'placeholder-shown', 'autofill', 'user-invalid',\n    'user-valid', 'blank', 'valid', 'invalid', 'in-range', 'out-of-range',\n    'read-only', 'read-write', 'placeholder-shown', 'autofill', 'user-invalid',\n    'placeholder',\n];\n\nexport const cssPropertyMapping = {\n    m: 'margin',\n    mt: 'margin-top',\n    mr: 'margin-right',\n    mb: 'margin-bottom',\n    ml: 'margin-left',\n\n    p: 'padding',\n    pt: 'padding-top',\n    pr: 'padding-right',\n    pb: 'padding-bottom',\n    pl: 'padding-left',\n\n    w: 'width',\n    h: 'height',\n\n    bg: 'background',\n    \"bg-color\": \"background-color\",\n\n    z: 'z-index',\n\n    d: 'display',\n    direction: 'flex-direction'\n};\n\nexport function parseDOM(configs = {\n    mode: 'production',\n}) {\n    if (typeof document === \"undefined\") {\n        console.warn(\"parseDOM() only works in the browser environment.\");\n        return {};\n    }\n\n    const defineClasses = Array.from(document.querySelectorAll(\"[class]\"))\n        .flatMap(el =>\n            Array.from(el.classList).filter(cls =>\n                [\":\", \"[\", \"]\"].every(t => cls.includes(t))\n            )\n        );\n\n    const uniqueClasses = defineClasses.reduce((acc, cls) => {\n        const pseudoSelector = [...PSEUDO_SELECTORS, ...configs?.pseudoSelectors || []].find(p => cls.includes(p + ':'));\n        const classWithoutPseudoSelector = pseudoSelector ? cls.replace(`${pseudoSelector}:`, '') : cls;\n        const [classString, value] = classWithoutPseudoSelector.split(/:(.+)/);\n        const classList = classString.split('.');\n        const property = classList.pop();\n        const cssQuery = [...classList, cls.replace(/[^a-zA-Z0-9_-]/g, c => '\\\\' + c)].join('.');\n        const queryId = id6();\n\n        if (acc[cssQuery]) return acc;\n\n        if (configs.mode === 'production') {\n            document.querySelectorAll(`.${cssQuery}`).forEach(el => {\n                el.classList.add(queryId);\n                el.classList.remove(cls);\n            });\n        }\n\n        if (pseudoSelector) {\n            acc[cssQuery] = {\n                query: [(configs.mode === 'production' ? queryId : cssQuery), pseudoSelector].join(':'),\n                property: cssPropertyMapping[property] || property,\n                value: value.replace(/[\\[\\]]/g, \"\").replace(/_/g, \" \")\n            };\n        } else {\n\n            acc[cssQuery] = {\n                query: configs.mode === 'production' ? queryId : cssQuery,\n                property: cssPropertyMapping[property] || property,\n                value: value.replace(/[\\[\\]]/g, \"\").replace(/_/g, \" \")\n            };\n        }\n\n        return acc;\n    }, {});\n\n    return uniqueClasses;\n}\n\nexport function injectStyles(uniqueClasses) {\n    if (typeof document === \"undefined\") return;\n\n    const tag = document.createElement(\"style\");\n    tag.innerHTML = Object.entries(uniqueClasses)\n        .map(([_, { query, property, value }]) =>\n            `.${query}{${property}:${value};}`\n        )\n        .join(\"\");\n\n    document.body.appendChild(tag);\n}\n\n\nexport function init() {\n    const uniqueClasses = parseDOM();\n    injectStyles(uniqueClasses);\n}", "const throttle = (func, limit) => {\n    let inThrottle;\n    return function (...args) {\n        if (!inThrottle) {\n            func.apply(this, args);\n            inThrottle = true;\n            setTimeout(() => inThrottle = false, limit);\n        }\n    }\n}\n\nconst useScroll = (config = {}) => {\n    let index = config.initialIndex || 0;\n    const throttleTime = config.throttleTime || 500;\n    const scrollEvent = config.scrollEvent || 'wheel';\n    const minIndex = config.minIndex || 0;\n    const maxIndex = config.maxIndex || 10;\n    const actions = [];\n\n    const addAction = (action) => {\n        actions.push(action);\n    }\n\n    const onScroll = throttle((event) => {\n        if (event.deltaY > 0) {\n            index = Math.min(index + 1, maxIndex);\n        } else {\n            index = Math.max(index - 1, minIndex);\n        }\n        actions.forEach(action => action(index, event));\n    }, throttleTime);\n\n    window.addEventListener(scrollEvent, onScroll);\n\n    return {\n        addAction\n    }\n}\n\nexport default useScroll;", "import { parseDOM, injectStyles } from 'css-magi';\nimport useScroll from '../services/useScroll';\ninjectStyles(parseDOM({\n    mode: 'production'\n}));\n\nnew EventSource('/esbuild').addEventListener('change', () => {\n    location.reload();\n});\n\nconst collection = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nconst { addAction } = useScroll({ maxIndex: 10, throttleTime: 100 });\nconst scrollElements = document.querySelectorAll('[data-event=\"scroll\"]');\nconst getCssClass = (index) => `scroll-${index}`\n\naddAction((index) => {\n    const cssClassInner = collection.filter(item => item <= index).map(getCssClass);\n    const cssClassOuter = collection.filter(item => item > index).map(getCssClass);\n\n    scrollElements.forEach((element) => {\n        element.classList.remove(...cssClassOuter);\n        element.classList.add(...cssClassInner);\n    });\n});"],
  "mappings": "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",
  "names": ["id6", "PSEUDO_SELECTORS", "cssPropertyMapping", "parseDOM", "configs", "el", "cls", "t", "acc", "pseudoSelector", "p", "classWithoutPseudoSelector", "classString", "value", "classList", "property", "cssQuery", "c", "queryId", "injectStyles", "uniqueClasses", "tag", "_", "query", "throttle", "func", "limit", "inThrottle", "args", "useScroll", "config", "index", "throttleTime", "scrollEvent", "minIndex", "maxIndex", "actions", "addAction", "action", "onScroll", "event", "useScroll_default", "injectStyles", "parseDOM", "collection", "addAction", "useScroll_default", "scrollElements", "getCssClass", "index", "cssClassInner", "item", "cssClassOuter", "element"]
}
