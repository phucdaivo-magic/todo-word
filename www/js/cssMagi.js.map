{
  "version": 3,
  "sources": ["../../node_modules/css-magi/src/css-magi.js", "../../src/js/cssMagi.js"],
  "sourcesContent": ["export const id6 = () => 'v1-' + Math.random().toString(36).substring(2, 8);\n\nexport const PSEUDO_SELECTORS = [\n    'hover', 'focus', 'active', 'visited', 'after', 'before',\n    'first', 'last', 'nth-child', 'nth-last-child', 'nth-of-type', 'nth-last-of-type',\n    'only-child', 'only-of-type', 'empty', 'target', 'checked', 'disabled', 'enabled',\n    'required', 'optional', 'valid', 'invalid', 'in-range', 'out-of-range',\n    'read-only', 'read-write', 'placeholder-shown', 'autofill', 'user-invalid',\n    'user-valid', 'blank', 'valid', 'invalid', 'in-range', 'out-of-range',\n    'read-only', 'read-write', 'placeholder-shown', 'autofill', 'user-invalid',\n];\n\nexport const cssPropertyMapping = {\n    m: 'margin',\n    mt: 'margin-top',\n    mr: 'margin-right',\n    mb: 'margin-bottom',\n    ml: 'margin-left',\n\n    p: 'padding',\n    pt: 'padding-top',\n    pr: 'padding-right',\n    pb: 'padding-bottom',\n    pl: 'padding-left',\n\n    w: 'width',\n    h: 'height',\n\n    bg: 'background',\n    \"bg-color\": \"background-color\",\n\n    z: 'z-index',\n\n    d: 'display',\n    direction: 'flex-direction'\n};\n\nexport function parseDOM(configs = {\n    mode: 'production',\n}) {\n    if (typeof document === \"undefined\") {\n        console.warn(\"parseDOM() only works in the browser environment.\");\n        return {};\n    }\n\n    const defineClasses = Array.from(document.querySelectorAll(\"[class]\"))\n        .flatMap(el =>\n            Array.from(el.classList).filter(cls =>\n                [\":\", \"[\", \"]\"].every(t => cls.includes(t))\n            )\n        );\n\n    const uniqueClasses = defineClasses.reduce((acc, cls) => {\n        const pseudoSelector = [...PSEUDO_SELECTORS, ...configs?.pseudoSelectors || []].find(p => cls.includes(p + ':'));\n        const classWithoutPseudoSelector = pseudoSelector ? cls.replace(`${pseudoSelector}:`, '') : cls;\n        const [classString, value] = classWithoutPseudoSelector.split(/:(.+)/);\n        const classList = classString.split('.');\n        const property = classList.pop();\n        const cssQuerySelector = cls.replace(/[^a-zA-Z0-9_-]/g, c => '\\\\' + c);\n        const cssQuery = [...classList, cssQuerySelector].join('.');\n        const queryId = id6();\n\n        if (acc[cssQuerySelector]) return acc;\n\n        if (configs.mode === 'production') {\n            document.querySelectorAll(`.${cssQuerySelector}`).forEach(el => {\n                el.classList.add(queryId);\n                console.log(cls);\n\n                el.classList.remove(cls);\n            });\n        }\n\n        if (pseudoSelector) {\n            acc[cssQuerySelector] = {\n                query: [...classList, (configs.mode === 'production' ? queryId : cssQuerySelector), pseudoSelector].join(':'),\n                property: cssPropertyMapping[property] || property,\n                value: value.replace(/[\\[\\]]/g, \"\").replace(/_/g, \" \")\n            };\n        } else {\n\n            acc[cssQuerySelector] = {\n                query: [...classList, configs.mode === 'production' ? queryId : cssQuerySelector].join('.'),\n                property: cssPropertyMapping[property] || property,\n                value: value.replace(/[\\[\\]]/g, \"\").replace(/_/g, \" \")\n            };\n        }\n\n        return acc;\n    }, {});\n\n    return uniqueClasses;\n}\n\nexport function injectStyles(uniqueClasses) {\n    if (typeof document === \"undefined\") return;\n\n    const tag = document.createElement(\"style\");\n    tag.innerHTML = Object.entries(uniqueClasses)\n        .map(([_, { query, property, value }]) =>\n            `.${query}{${property}:${value};}`\n        )\n        .join(\"\");\n\n    document.body.appendChild(tag);\n}\n\n\nexport function init() {\n    const uniqueClasses = parseDOM();\n    injectStyles(uniqueClasses);\n}", "import { init, parseDOM, injectStyles } from \"css-magi\";\r\nconst uniqueClasses = parseDOM();\r\ninjectStyles(uniqueClasses);"],
  "mappings": "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",
  "names": ["id6", "PSEUDO_SELECTORS", "cssPropertyMapping", "parseDOM", "configs", "el", "cls", "t", "acc", "pseudoSelector", "p", "classWithoutPseudoSelector", "classString", "value", "classList", "property", "cssQuerySelector", "c", "cssQuery", "queryId", "injectStyles", "uniqueClasses", "tag", "_", "query", "uniqueClasses", "parseDOM", "injectStyles"]
}
