{
  "version": 3,
  "sources": ["../../node_modules/css-magi/src/css-magi.js", "../../src/js/cssMagi.js"],
  "sourcesContent": ["export const id6 = () => '_' + Math.random().toString(36).substring(2, 8);\n\nexport const PSEUDO_SELECTORS = [\n    'hover', 'focus', 'active', 'visited', 'after', 'before',\n    'first', 'last', 'nth-child', 'nth-last-child', 'nth-of-type', 'nth-last-of-type',\n    'only-child', 'only-of-type', 'empty', 'target', 'checked', 'disabled', 'enabled',\n    'required', 'optional', 'valid', 'invalid', 'in-range', 'out-of-range',\n    'read-only', 'read-write', 'placeholder-shown', 'autofill', 'user-invalid',\n    'user-valid', 'blank', 'valid', 'invalid', 'in-range', 'out-of-range',\n    'read-only', 'read-write', 'placeholder-shown', 'autofill', 'user-invalid',\n    'placeholder',\n];\n\nexport const cssPropertyMapping = {\n    m: 'margin',\n    mt: 'margin-top',\n    mr: 'margin-right',\n    mb: 'margin-bottom',\n    ml: 'margin-left',\n\n    p: 'padding',\n    pt: 'padding-top',\n    pr: 'padding-right',\n    pb: 'padding-bottom',\n    pl: 'padding-left',\n\n    w: 'width',\n    h: 'height',\n\n    bg: 'background',\n    \"bg-color\": \"background-color\",\n\n    z: 'z-index',\n\n    d: 'display',\n    direction: 'flex-direction'\n};\n\nexport function parseDOM(configs = {\n    mode: 'production',\n}) {\n    if (typeof document === \"undefined\") {\n        console.warn(\"parseDOM() only works in the browser environment.\");\n        return {};\n    }\n\n    const defineClasses = Array.from(document.querySelectorAll(\"[class]\"))\n        .flatMap(el =>\n            Array.from(el.classList).filter(cls =>\n                [\":\", \"[\", \"]\"].every(t => cls.includes(t))\n            )\n        );\n\n    const uniqueClasses = defineClasses.reduce((acc, cls) => {\n        const pseudoSelector = [...PSEUDO_SELECTORS, ...configs?.pseudoSelectors || []].find(p => cls.includes(p + ':'));\n        const classWithoutPseudoSelector = pseudoSelector ? cls.replace(`${pseudoSelector}:`, '') : cls;\n        const [classString, value] = classWithoutPseudoSelector.split(/:(.+)/);\n        const classList = classString.split('.');\n        const property = classList.pop();\n        const cssQuery = [...classList, cls.replace(/[^a-zA-Z0-9_-]/g, c => '\\\\' + c)].join('.');\n        const queryId = id6();\n\n        if (acc[cssQuery]) return acc;\n\n        if (configs.mode === 'production') {\n            document.querySelectorAll(`.${cssQuery}`).forEach(el => {\n                el.classList.add(queryId);\n                el.classList.remove(cls);\n            });\n        }\n\n        if (pseudoSelector) {\n            acc[cssQuery] = {\n                query: [(configs.mode === 'production' ? queryId : cssQuery), pseudoSelector].join(':'),\n                property: cssPropertyMapping[property] || property,\n                value: value.replace(/[\\[\\]]/g, \"\").replace(/_/g, \" \")\n            };\n        } else {\n\n            acc[cssQuery] = {\n                query: configs.mode === 'production' ? queryId : cssQuery,\n                property: cssPropertyMapping[property] || property,\n                value: value.replace(/[\\[\\]]/g, \"\").replace(/_/g, \" \")\n            };\n        }\n\n        return acc;\n    }, {});\n\n    return uniqueClasses;\n}\n\nexport function injectStyles(uniqueClasses) {\n    if (typeof document === \"undefined\") return;\n\n    const tag = document.createElement(\"style\");\n    tag.innerHTML = Object.entries(uniqueClasses)\n        .map(([_, { query, property, value }]) =>\n            `.${query}{${property}:${value};}`\n        )\n        .join(\"\");\n\n    document.body.appendChild(tag);\n}\n\n\nexport function init() {\n    const uniqueClasses = parseDOM();\n    injectStyles(uniqueClasses);\n}", "import { init, parseDOM, injectStyles } from \"css-magi\";\nconst uniqueClasses = parseDOM({\n    mode: 'development'\n});\ninjectStyles(uniqueClasses);\n\n// Reload page when css-magi changes\nnew EventSource(\"/esbuild\").addEventListener(\"change\", () => location.reload());\n\n/**\n * Event scroll\n */\nclass EventScroll {\n    constructor({ element }) {\n        this.element = element;\n        this.scrollElements = document.querySelectorAll('[data-event=\"scroll\"]');\n        this.index = 0;\n\n        this.options = {\n            maxIndex: 10,\n            minIndex: 0,\n        }\n        this.handleScroll = this.handleScroll.bind(this);\n        this.init();\n    }\n\n    /**\n     * Initialize event scroll\n     */\n    init() {\n        this.updateClasses();\n        this.element.addEventListener('wheel', this.handleScroll);\n    }\n\n    /**\n     * Handle scroll event\n     */\n    handleScroll(event) {\n        const { maxIndex, minIndex } = this.options;\n        const { index } = this;\n\n        if (event.deltaY > 0) {\n            this.index = Math.min(index + 1, maxIndex);\n        } else {\n            this.index = Math.max(index - 1, minIndex);\n        }\n\n        this.updateClasses();\n    }\n\n    /**\n     * Update class of scroll elements\n     */\n    updateClasses() {\n        const { index } = this;\n        const { maxIndex } = this.options;\n        const getCssClass = (number) => `scroll-${number}`;\n\n        this.scrollElements.forEach(element => {\n            const classInner = Array.from({ length: maxIndex }, (_, i) => i);\n            element.classList.remove(...classInner.filter(item => item > index).map(getCssClass));\n            element.classList.add(...classInner.filter(item => item <= index).map(getCssClass));\n        });\n    }\n}\n\n/**\n * Initialize event scroll\n */\ndocument.querySelectorAll('body').forEach(element => {\n    new EventScroll({\n        element\n    });\n});"],
  "mappings": "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",
  "names": ["id6", "PSEUDO_SELECTORS", "cssPropertyMapping", "parseDOM", "configs", "el", "cls", "t", "acc", "pseudoSelector", "p", "classWithoutPseudoSelector", "classString", "value", "classList", "property", "cssQuery", "c", "queryId", "injectStyles", "uniqueClasses", "tag", "_", "query", "uniqueClasses", "parseDOM", "injectStyles", "EventScroll", "element", "event", "maxIndex", "minIndex", "index", "getCssClass", "number", "classInner", "_", "i", "item"]
}
