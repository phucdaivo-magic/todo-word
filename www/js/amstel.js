(()=>{new EventSource("/esbuild").addEventListener("change",()=>location.reload());var h=class{constructor(e){this.$element=e,this.index=0,this.distance=0,this.isNavigating=!1,this.limitKeepCurrent=50,this.draggingOver=!0,this.rows=2,this.gap=0,this.init(),this.shouldAddActions(()=>{this.updateIsNavigating(),this.addPagination(),this.addNavigation(),this.addTouchEvents(),this.addMouseDrag(),this.addKeyboardEvents()})}shouldAddActions(e){this.itemList.length>this.rows&&e()}loadImagesSuccess(){return Promise.all(Array.from(this.$element.querySelectorAll("img")).map(e=>new Promise(t=>{e.complete&&t(e),e.onload=()=>{t(e)}})))}init(){this.$element.style.display="flex",this.$element.style.flexDirection="row",this.$element.style.gap=this.gap+"px",this.$element.style.flexWrap="nowrap",this.$element.style.overflow="hidden",this.$element.style.position="relative",this.itemList=this.$element.querySelectorAll(":scope > div"),this.itemList.forEach(e=>{let t=`calc((100% - ${(this.rows-1)*this.gap}px) / ${this.rows})`;e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t,e.style.position="relative",e.style.touchAction="pan-y"})}updateIsNavigating(){this.$element.addEventListener("click",()=>{this.isNavigating=!0}),document.addEventListener("click",e=>{this.$element.contains(e.target)||(this.isNavigating=!1)})}addMouseDrag(){this.$element.addEventListener("mousedown",t=>{t.preventDefault(),this.startX=t.clientX}),this.$element.addEventListener("mousemove",t=>{this.startX&&(this.endX=t.clientX,this.distance=this.endX-this.startX,this.updateView())});let e=t=>{t.preventDefault(),this.endX=t.clientX;let i=this.distance/(this.$element.offsetWidth/this.rows);i<0?i=Math.floor(i):i=Math.ceil(i),this.startX=null,this.distance>this.limitKeepCurrent?(this.index=this.index-i,this.distance=0,this.updateView()):this.distance<-this.limitKeepCurrent&&(this.index=this.index-i,this.distance=0,this.updateView()),this.distance=0,this.updateView()};this.$element.addEventListener("mouseup",e),this.$element.addEventListener("mouseleave",e)}addTouchEvents(){document.addEventListener("scroll",e=>{e.preventDefault(),e.stopPropagation()},{passive:!1}),this.$element.addEventListener("touchstart",e=>{this.startX=e.touches[0].clientX}),this.$element.addEventListener("touchmove",e=>{this.startX&&(this.endX=e.touches[0].clientX,this.distance=this.endX-this.startX,this.updateView())}),this.$element.addEventListener("touchend",e=>{this.endX=e.changedTouches[0].clientX,this.deltaX=this.endX-this.startX,this.startX=null;let t=this.distance/(this.$element.offsetWidth/this.rows);t<0?t=Math.floor(t):t=Math.ceil(t),this.distance>this.limitKeepCurrent?(this.index=this.index-t,this.distance=0,this.updateView()):this.distance<-this.limitKeepCurrent&&(this.index=this.index-t,this.distance=0,this.updateView()),this.distance=0,this.updateView()})}throttle(e,t){let i=0;return function(...a){let n=Date.now();n-i>=t&&(i=n,e.apply(this,a))}}addNavigation(){let e=document.createElement("div");e.classList.add("slider-navigation");let t=document.createElement("button");e.appendChild(t),t.classList.add("slider-navigation-button","slider-navigation-button-next"),t.addEventListener("click",this.throttle(a=>{a.preventDefault(),a.stopPropagation(),this.index>this.itemList.length-this.rows-1?this.index=0:this.index++,this.updateView(!0)},600));let i=document.createElement("button");e.appendChild(i),i.classList.add("slider-navigation-button","slider-navigation-button-prev"),i.addEventListener("click",this.throttle(a=>{a.preventDefault(),a.stopPropagation(),this.index<1?this.index=this.itemList.length-this.rows:this.index--,this.updateView(!0)},600)),this.$element.appendChild(e)}addKeyboardEvents(){document.addEventListener("keydown",e=>{this.isNavigating!==!1&&(e.key==="ArrowRight"?this.index++:e.key==="ArrowLeft"&&this.index--,this.updateView(!0))})}updateView(e=!1){this.index=Math.max(0,this.index),this.index=Math.min(this.index,this.itemList.length-this.rows);let t=this.distance;this.itemList.forEach((i,a)=>{if(this.distance!==0){i.style.transition="none";let n=()=>{this.draggingOver?t=this.distance/6:t=0};this.index===0&&this.distance>0&&n(),this.index===this.itemList.length-this.rows&&this.distance<0&&n()}else e?i.style.transition="transform 0.8s cubic-bezier(0.42, 0, 0.58, 1)":i.style.transition="transform 0.25s cubic-bezier(0.42, 0, 0.58, 1)";i.style.transform=`translate3d(calc(${-this.index*100}% + ${t}px - ${this.gap*this.index}px), 0, 0)`}),this.paginationItems.forEach((i,a)=>{i?.classList?.toggle("slider-pagination-item-active",a===this.index)})}addPagination(){let e=document.createElement("div");e.classList.add("slider-pagination");let t=document.createElement("div");t.classList.add("slider-pagination-content"),this.paginationItems=Array.from(this.itemList).map((i,a)=>{if(a>this.itemList.length-this.rows)return;let n=document.createElement("div");return n.classList.add("slider-pagination-item"),n.classList.toggle("slider-pagination-item-active",a===this.index),n.addEventListener("click",()=>{this.index=a,this.updateView(!0)}),t.appendChild(n),n}),e.appendChild(t),this.$element.appendChild(e)}};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-component="slider"]').forEach(s=>{new h(s)})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-component="LayoutComputed"]').forEach(s=>{let e=s.querySelectorAll("[set-variable]");window.addEventListener("resize",()=>{Promise.all(Array.from(e).map(t=>new Promise(i=>{let[a,n]=t.getAttribute("set-variable").split(" "),[l,r]=[a+"-width",a+"-height"];if(t.tagName==="IMG")t.complete?(s.style.setProperty(r,`${t.clientHeight}px`),s.style.setProperty(l,`${t.clientWidth}px`),i()):t.onload=()=>{s.style.setProperty(r,`${t.clientHeight}px`),s.style.setProperty(l,`${t.clientWidth}px`),i()};else if(t.querySelector("img")){let d=t.querySelector("img");d.complete?(s.style.setProperty(r,`${t.offsetHeight}px`),s.style.setProperty(l,`${t.offsetWidth}px`),i()):d.onload=()=>{s.style.setProperty(r,`${t.offsetHeight}px`),s.style.setProperty(l,`${t.offsetWidth}px`),i()}}else if(n){let d=s.querySelector(n);d?(s.style.setProperty(r,`${d.offsetHeight}px`),s.style.setProperty(l,`${d.offsetWidth}px`),i()):(s.style.setProperty(r,`${d.offsetHeight}px`),s.style.setProperty(l,`${d.offsetWidth}px`),i())}}).then(()=>{t.classList.add("layout-computed-child-initialized")}))).then(()=>{s.classList.add("layout-computed-initialized")})})})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-component="ScrollToHash"]').forEach(s=>{let e=s.getAttribute("data-hash");if(e){s.style.height="var(--top-selector-height, 0)",s.style.display="block",s.style.background="red",s.style.position="absolute",s.style.width="100%",s.style.marginTop="calc(var(--top-selector-height, 0) * -1)",s.style.zIndex="-1",s.style.opacity="0";let t=s.getAttribute("data-top-selector")||"";if(t){let a=document.querySelector(t);a&&s.style.setProperty("--top-selector-height",`${a.offsetHeight}px`)}let i=document.querySelector(`a[href = "${e}"]`);i&&i.addEventListener("click",a=>{s.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})})}})});})();
