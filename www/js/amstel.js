(()=>{new EventSource("/esbuild").addEventListener("change",()=>location.reload());var l=class{constructor(t){this.$element=t,this.index=0,this.distance=0,this.isNavigating=!1,this.limitKeepCurrent=50,this.draggingOver=!0,this.rows=2,this.gap=0,this.init(),this.shouldAddActions(()=>{this.updateIsNavigating(),this.addPagination(),this.addNavigation(),this.addTouchEvents(),this.addMouseDrag(),this.addKeyboardEvents()})}shouldAddActions(t){this.itemList.length>this.rows&&t()}loadImagesSuccess(){return Promise.all(Array.from(this.$element.querySelectorAll("img")).map(t=>new Promise(e=>{t.complete&&e(t),t.onload=()=>{e(t)}})))}init(){this.$element.style.display="flex",this.$element.style.flexDirection="row",this.$element.style.gap=this.gap+"px",this.$element.style.flexWrap="nowrap",this.$element.style.overflow="hidden",this.$element.style.position="relative",this.itemList=this.$element.querySelectorAll(":scope > div"),this.itemList.forEach(t=>{let e=`calc((100% - ${(this.rows-1)*this.gap}px) / ${this.rows})`;t.style.width=e,t.style.maxWidth=e,t.style.minWidth=e,t.style.position="relative",t.style.touchAction="pan-y"})}updateIsNavigating(){this.$element.addEventListener("click",()=>{this.isNavigating=!0}),document.addEventListener("click",t=>{this.$element.contains(t.target)||(this.isNavigating=!1)})}addTouchEvents(){this.$element.addEventListener("touchstart",t=>{this.startX=t.touches[0].clientX}),this.$element.addEventListener("touchmove",t=>{this.endX=t.touches[0].clientX}),this.$element.addEventListener("touchend",t=>{this.endX=t.touches[0].clientX,this.deltaX=this.endX-this.startX,this.deltaX>this.limitKeepCurrent&&this.index++})}addMouseDrag(){this.$element.addEventListener("mousedown",t=>{t.preventDefault(),this.startX=t.clientX}),this.$element.addEventListener("mousemove",t=>{this.startX&&(this.endX=t.clientX,this.distance=this.endX-this.startX,this.updateView())}),this.$element.addEventListener("mouseup",t=>{t.preventDefault(),this.endX=t.clientX;let e=Math.floor(this.distance/(this.$element.offsetWidth/this.rows));this.startX=null,this.distance>this.limitKeepCurrent?(this.index=Math.floor(this.index-e),this.distance=0,this.updateView()):this.distance<-this.limitKeepCurrent&&(this.index=Math.floor(this.index-e),this.distance=0,this.updateView()),this.distance=0,this.updateView()}),this.$element.addEventListener("mouseleave",t=>{t.preventDefault(),this.endX=t.clientX,this.startX=null,this.distance=0,this.updateView()})}addTouchEvents(){document.addEventListener("scroll",t=>{t.preventDefault(),t.stopPropagation()},{passive:!1}),this.$element.addEventListener("touchstart",t=>{this.startX=t.touches[0].clientX}),this.$element.addEventListener("touchmove",t=>{this.startX&&(this.endX=t.touches[0].clientX,this.distance=this.endX-this.startX,this.updateView())}),this.$element.addEventListener("touchend",t=>{this.endX=t.changedTouches[0].clientX,this.deltaX=this.endX-this.startX,this.startX=null,this.distance>this.limitKeepCurrent?(this.index--,this.distance=0,this.updateView()):this.distance<-this.limitKeepCurrent&&(this.index++,this.distance=0,this.updateView()),this.distance=0,this.updateView()})}throttle(t,e){let s=0;return function(...n){let a=Date.now();a-s>=e&&(s=a,t.apply(this,n))}}addNavigation(){let t=document.createElement("div");t.classList.add("slider-navigation");let e=document.createElement("button");t.appendChild(e),e.classList.add("slider-navigation-button","slider-navigation-button-next"),e.addEventListener("click",this.throttle(n=>{n.preventDefault(),n.stopPropagation(),this.index>this.itemList.length-this.rows-1?this.index=0:this.index++,this.updateView(!0)},600));let s=document.createElement("button");t.appendChild(s),s.classList.add("slider-navigation-button","slider-navigation-button-prev"),s.addEventListener("click",this.throttle(n=>{n.preventDefault(),n.stopPropagation(),this.index<1?this.index=this.itemList.length-this.rows:this.index--,this.updateView(!0)},600)),this.$element.appendChild(t)}addKeyboardEvents(){document.addEventListener("keydown",t=>{this.isNavigating!==!1&&(t.key==="ArrowRight"?this.index++:t.key==="ArrowLeft"&&this.index--,this.updateView(!0))})}updateView(t=!1){this.index=Math.max(0,this.index),this.index=Math.min(this.index,this.itemList.length-this.rows);let e=this.distance;this.itemList.forEach((s,n)=>{if(this.distance!==0){s.style.transition="none";let a=()=>{this.draggingOver?e=this.distance/6:e=0};this.index===0&&this.distance>0&&a(),this.index===this.itemList.length-this.rows&&this.distance<0&&a()}else t?s.style.transition="transform 0.8s cubic-bezier(0.42, 0, 0.58, 1)":s.style.transition="transform 0.25s cubic-bezier(0.42, 0, 0.58, 1)";s.style.transform=`translate3d(calc(${-this.index*100}% + ${e}px - ${this.gap*this.index}px), 0, 0)`}),this.paginationItems.forEach((s,n)=>{s?.classList?.toggle("slider-pagination-item-active",n===this.index)})}addPagination(){let t=document.createElement("div");t.classList.add("slider-pagination");let e=document.createElement("div");e.classList.add("slider-pagination-content"),this.paginationItems=Array.from(this.itemList).map((s,n)=>{if(n>this.itemList.length-this.rows)return;let a=document.createElement("div");return a.classList.add("slider-pagination-item"),a.classList.toggle("slider-pagination-item-active",n===this.index),a.addEventListener("click",()=>{this.index=n,this.updateView(!0)}),e.appendChild(a),a}),t.appendChild(e),this.$element.appendChild(t)}};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-component="slider"]').forEach(i=>{new l(i)})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-component="LayoutComputed"]').forEach(i=>{let t=i.querySelectorAll("[set-variable]");window.addEventListener("resize",()=>{Promise.all(Array.from(t).map(e=>new Promise(s=>{let[n,a]=e.getAttribute("set-variable").split(" "),[r,h]=[n+"-width",n+"-height"];if(e.tagName==="IMG")e.complete?(i.style.setProperty(h,`${e.clientHeight}px`),i.style.setProperty(r,`${e.clientWidth}px`),s()):e.onload=()=>{i.style.setProperty(h,`${e.clientHeight}px`),i.style.setProperty(r,`${e.clientWidth}px`),s()};else if(e.querySelector("img")){let d=e.querySelector("img");d.complete?(i.style.setProperty(h,`${e.offsetHeight}px`),i.style.setProperty(r,`${e.offsetWidth}px`),s()):d.onload=()=>{i.style.setProperty(h,`${e.offsetHeight}px`),i.style.setProperty(r,`${e.offsetWidth}px`),s()}}else if(a){let d=i.querySelector(a);d?(i.style.setProperty(h,`${d.offsetHeight}px`),i.style.setProperty(r,`${d.offsetWidth}px`),s()):(i.style.setProperty(h,`${d.offsetHeight}px`),i.style.setProperty(r,`${d.offsetWidth}px`),s())}}).then(()=>{e.classList.add("layout-computed-child-initialized")}))).then(()=>{i.classList.add("layout-computed-initialized")})})})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-component="ScrollToHash"]').forEach(i=>{let t=i.getAttribute("data-hash");if(t){i.style.height="var(--top-selector-height, 0)",i.style.display="block",i.style.background="red",i.style.position="absolute",i.style.width="100%",i.style.marginTop="calc(var(--top-selector-height, 0) * -1)",i.style.zIndex="-1",i.style.opacity="0";let e=i.getAttribute("data-top-selector")||"";if(e){let n=document.querySelector(e);n&&i.style.setProperty("--top-selector-height",`${n.offsetHeight}px`)}let s=document.querySelector(`a[href = "${t}"]`);s&&s.addEventListener("click",n=>{i.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})})}})});})();
