(()=>{new EventSource("/esbuild").addEventListener("change",()=>location.reload());var s=class{constructor(t){this.$element=t,this.index=0,this.distance=0,this.init(),this.addNavigation(),this.addTouchEvents(),this.addMouseDrag(),this.addKeyboardEvents()}init(){this.$element.style.display="flex",this.$element.style.flexDirection="row",this.$element.style.flexWrap="nowrap",this.$element.style.overflow="hidden",this.$element.style.position="relative",this.itemList=this.$element.querySelectorAll(":scope > div"),this.itemList.forEach(t=>{t.style.width="100%",t.style.maxWidth="100%",t.style.minWidth="100%",t.style.position="relative"})}addTouchEvents(){this.$element.addEventListener("touchstart",t=>{console.log(t),this.startX=t.touches[0].clientX}),this.$element.addEventListener("touchmove",t=>{this.endX=t.touches[0].clientX}),this.$element.addEventListener("touchend",t=>{this.endX=t.touches[0].clientX,this.deltaX=this.endX-this.startX,this.deltaX>100&&this.index++})}addMouseDrag(){this.$element.addEventListener("mousedown",t=>{t.preventDefault(),this.startX=t.clientX}),this.$element.addEventListener("mousemove",t=>{this.startX&&(this.endX=t.clientX,this.distance=this.endX-this.startX,this.updateView())}),this.$element.addEventListener("mouseup",t=>{t.preventDefault(),this.endX=t.clientX,this.startX=null,this.distance>100?(this.index--,this.distance=0,this.updateView()):this.distance<-100&&(this.index++,this.distance=0,this.updateView()),this.distance=0,this.updateView()}),this.$element.addEventListener("mouseleave",t=>{t.preventDefault(),this.endX=t.clientX,this.startX=null,this.distance=0,this.updateView()})}addTouchEvents(){this.$element.addEventListener("touchstart",t=>{t.preventDefault(),this.startX=t.touches[0].clientX}),this.$element.addEventListener("touchmove",t=>{this.startX&&(this.endX=t.touches[0].clientX,this.distance=this.endX-this.startX,this.updateView())}),this.$element.addEventListener("touchend",t=>{this.endX=t.changedTouches[0].clientX,this.deltaX=this.endX-this.startX,this.startX=null,this.distance>100?(this.index--,this.distance=0,this.updateView()):this.distance<-100&&(this.index++,this.distance=0,this.updateView()),this.distance=0,this.updateView()})}addNavigation(){let t=document.createElement("button");t.innerHTML="Next",t.style.position="absolute",t.style.top="50%",t.style.right="0",t.style.transform="translateY(-50%)",t.style.zIndex="1000",t.style.backgroundColor="white",t.style.border="none",t.style.padding="10px",t.style.cursor="pointer",this.$element.appendChild(t),t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.index++,this.index>=this.itemList.length&&(this.index=0),this.updateView(!0)})}addKeyboardEvents(){document.addEventListener("keydown",t=>{t.key==="ArrowRight"?this.index++:t.key==="ArrowLeft"&&this.index--,this.updateView(!0)})}debounce(t,e){let i;return function(...n){clearTimeout(i),i=setTimeout(()=>t.apply(this,n),e)}}updateView(t=!1){this.index=Math.max(0,this.index),this.index=Math.min(this.index,this.itemList.length-1),this.itemList.forEach((e,i)=>{this.distance!==0?e.style.transition="none":t?e.style.transition="transform 0.8s cubic-bezier(0.42, 0, 0.58, 1)":e.style.transition="transform 0.25s cubic-bezier(0.42, 0, 0.58, 1)",e.style.transform=`translate3d(calc(${-this.index*100}% + ${this.distance}px), 0, 0)`})}};document.addEventListener("DOMContentLoaded",()=>{new s(document.querySelector('[data-component="slider"]'))});})();
