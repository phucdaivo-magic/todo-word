(()=>{new EventSource("/esbuild").addEventListener("change",()=>location.reload());var h=class{constructor(t){this.$element=t,this.index=0,this.distance=0,this.isNavigating=!1,this.limitKeepCurrent=50,this.draggingOver=!0,this.rows=2,this.gap=0,this.init(),this.shouldAddActions(()=>{this.updateIsNavigating(),this.addPagination(),this.addNavigation(),this.addTouchEvents(),this.addMouseDrag(),this.addKeyboardEvents()})}shouldAddActions(t){this.itemList.length>this.rows&&t()}loadImagesSuccess(){return Promise.all(Array.from(this.$element.querySelectorAll("img")).map(t=>new Promise(e=>{t.complete&&e(t),t.onload=()=>{e(t)}})))}init(){this.$element.style.display="flex",this.$element.style.flexDirection="row",this.$element.style.gap=this.gap+"px",this.$element.style.flexWrap="nowrap",this.$element.style.overflow="hidden",this.$element.style.position="relative",this.itemList=this.$element.querySelectorAll(":scope > div"),this.itemList.forEach(t=>{let e=`calc((100% - ${(this.rows-1)*this.gap}px) / ${this.rows})`;t.style.width=e,t.style.maxWidth=e,t.style.minWidth=e,t.style.position="relative",t.style.touchAction="pan-y"})}updateIsNavigating(){this.$element.addEventListener("click",()=>{this.isNavigating=!0}),document.addEventListener("click",t=>{this.$element.contains(t.target)||(this.isNavigating=!1)})}addTouchEvents(){this.$element.addEventListener("touchstart",t=>{this.startX=t.touches[0].clientX}),this.$element.addEventListener("touchmove",t=>{this.endX=t.touches[0].clientX}),this.$element.addEventListener("touchend",t=>{this.endX=t.touches[0].clientX,this.deltaX=this.endX-this.startX,this.deltaX>this.limitKeepCurrent&&this.index++})}addMouseDrag(){this.$element.addEventListener("mousedown",e=>{e.preventDefault(),this.startX=e.clientX}),this.$element.addEventListener("mousemove",e=>{this.startX&&(this.endX=e.clientX,this.distance=this.endX-this.startX,this.updateView())});let t=e=>{e.preventDefault(),this.endX=e.clientX;let i=this.distance/(this.$element.offsetWidth/this.rows);i<0?i=Math.floor(i):i=Math.ceil(i),this.startX=null,this.distance>this.limitKeepCurrent?(this.index=this.index-i,this.distance=0,this.updateView()):this.distance<-this.limitKeepCurrent&&(this.index=this.index-i,this.distance=0,this.updateView()),this.distance=0,this.updateView()};this.$element.addEventListener("mouseup",t),this.$element.addEventListener("mouseleave",t)}addTouchEvents(){document.addEventListener("scroll",t=>{t.preventDefault(),t.stopPropagation()},{passive:!1}),this.$element.addEventListener("touchstart",t=>{this.startX=t.touches[0].clientX}),this.$element.addEventListener("touchmove",t=>{this.startX&&(this.endX=t.touches[0].clientX,this.distance=this.endX-this.startX,this.updateView())}),this.$element.addEventListener("touchend",t=>{this.endX=t.changedTouches[0].clientX,this.deltaX=this.endX-this.startX,this.startX=null,this.distance>this.limitKeepCurrent?(this.index--,this.distance=0,this.updateView()):this.distance<-this.limitKeepCurrent&&(this.index++,this.distance=0,this.updateView()),this.distance=0,this.updateView()})}throttle(t,e){let i=0;return function(...n){let a=Date.now();a-i>=e&&(i=a,t.apply(this,n))}}addNavigation(){let t=document.createElement("div");t.classList.add("slider-navigation");let e=document.createElement("button");t.appendChild(e),e.classList.add("slider-navigation-button","slider-navigation-button-next"),e.addEventListener("click",this.throttle(n=>{n.preventDefault(),n.stopPropagation(),this.index>this.itemList.length-this.rows-1?this.index=0:this.index++,this.updateView(!0)},600));let i=document.createElement("button");t.appendChild(i),i.classList.add("slider-navigation-button","slider-navigation-button-prev"),i.addEventListener("click",this.throttle(n=>{n.preventDefault(),n.stopPropagation(),this.index<1?this.index=this.itemList.length-this.rows:this.index--,this.updateView(!0)},600)),this.$element.appendChild(t)}addKeyboardEvents(){document.addEventListener("keydown",t=>{this.isNavigating!==!1&&(t.key==="ArrowRight"?this.index++:t.key==="ArrowLeft"&&this.index--,this.updateView(!0))})}updateView(t=!1){this.index=Math.max(0,this.index),this.index=Math.min(this.index,this.itemList.length-this.rows);let e=this.distance;this.itemList.forEach((i,n)=>{if(this.distance!==0){i.style.transition="none";let a=()=>{this.draggingOver?e=this.distance/6:e=0};this.index===0&&this.distance>0&&a(),this.index===this.itemList.length-this.rows&&this.distance<0&&a()}else t?i.style.transition="transform 0.8s cubic-bezier(0.42, 0, 0.58, 1)":i.style.transition="transform 0.25s cubic-bezier(0.42, 0, 0.58, 1)";i.style.transform=`translate3d(calc(${-this.index*100}% + ${e}px - ${this.gap*this.index}px), 0, 0)`}),this.paginationItems.forEach((i,n)=>{i?.classList?.toggle("slider-pagination-item-active",n===this.index)})}addPagination(){let t=document.createElement("div");t.classList.add("slider-pagination");let e=document.createElement("div");e.classList.add("slider-pagination-content"),this.paginationItems=Array.from(this.itemList).map((i,n)=>{if(n>this.itemList.length-this.rows)return;let a=document.createElement("div");return a.classList.add("slider-pagination-item"),a.classList.toggle("slider-pagination-item-active",n===this.index),a.addEventListener("click",()=>{this.index=n,this.updateView(!0)}),e.appendChild(a),a}),t.appendChild(e),this.$element.appendChild(t)}};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-component="slider"]').forEach(s=>{new h(s)})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-component="LayoutComputed"]').forEach(s=>{let t=s.querySelectorAll("[set-variable]");window.addEventListener("resize",()=>{Promise.all(Array.from(t).map(e=>new Promise(i=>{let[n,a]=e.getAttribute("set-variable").split(" "),[r,l]=[n+"-width",n+"-height"];if(e.tagName==="IMG")e.complete?(s.style.setProperty(l,`${e.clientHeight}px`),s.style.setProperty(r,`${e.clientWidth}px`),i()):e.onload=()=>{s.style.setProperty(l,`${e.clientHeight}px`),s.style.setProperty(r,`${e.clientWidth}px`),i()};else if(e.querySelector("img")){let d=e.querySelector("img");d.complete?(s.style.setProperty(l,`${e.offsetHeight}px`),s.style.setProperty(r,`${e.offsetWidth}px`),i()):d.onload=()=>{s.style.setProperty(l,`${e.offsetHeight}px`),s.style.setProperty(r,`${e.offsetWidth}px`),i()}}else if(a){let d=s.querySelector(a);d?(s.style.setProperty(l,`${d.offsetHeight}px`),s.style.setProperty(r,`${d.offsetWidth}px`),i()):(s.style.setProperty(l,`${d.offsetHeight}px`),s.style.setProperty(r,`${d.offsetWidth}px`),i())}}).then(()=>{e.classList.add("layout-computed-child-initialized")}))).then(()=>{s.classList.add("layout-computed-initialized")})})})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-component="ScrollToHash"]').forEach(s=>{let t=s.getAttribute("data-hash");if(t){s.style.height="var(--top-selector-height, 0)",s.style.display="block",s.style.background="red",s.style.position="absolute",s.style.width="100%",s.style.marginTop="calc(var(--top-selector-height, 0) * -1)",s.style.zIndex="-1",s.style.opacity="0";let e=s.getAttribute("data-top-selector")||"";if(e){let n=document.querySelector(e);n&&s.style.setProperty("--top-selector-height",`${n.offsetHeight}px`)}let i=document.querySelector(`a[href = "${t}"]`);i&&i.addEventListener("click",n=>{s.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})})}})});})();
