{
  "version": 3,
  "sources": ["../../src/libs/css-magi.js", "../../src/js/css.js"],
  "sourcesContent": ["export const id6 = () => 'v1-' + Math.random().toString(36).substring(2, 8);\n\n\nexport const PSEUDO_SELECTORS = [\n  'hover',\n  'focus',\n  'active',\n  'visited',\n  'after',\n  'before',\n  'first',\n  'last',\n  'nth-child',\n  'nth-last-child',\n  'nth-of-type',\n  'nth-last-of-type',\n  'only-child',\n  'only-of-type',\n  'empty',\n  'target',\n  'checked',\n  'disabled',\n  'enabled',\n  'required',\n  'optional',\n  'valid',\n  'invalid',\n  'in-range',\n  'out-of-range',\n  'read-only',\n  'read-write',\n  'placeholder-shown',\n  'autofill',\n  'user-invalid',\n  'user-valid',\n  'blank',\n  'valid',\n  'invalid',\n  'in-range',\n  'out-of-range',\n  'read-only',\n  'read-write',\n  'placeholder-shown',\n  'autofill',\n  'user-invalid',\n];\n\nexport const cssPropertyMapping = {\n  m: 'margin',\n  mt: 'margin-top',\n  mr: 'margin-right',\n  mb: 'margin-bottom',\n  ml: 'margin-left',\n\n  p: 'padding',\n  pt: 'padding-top',\n  pr: 'padding-right',\n  pb: 'padding-bottom',\n  pl: 'padding-left',\n\n  pos: 'position',\n  cl: 'color',\n\n  w: 'width',\n  h: 'height',\n  bor: 'border',\n\n  bg: 'background',\n  \"bg-cl\": \"background-color\",\n\n  z: 'z-index',\n\n  d: 'display',\n  direction: 'flex-direction'\n};\n\nexport const DEFAULT_MEDIA_QUERY = {\n  sm: '@media(min-width:640px)',\n  md: '@media(min-width:768px)',\n  lg: '@media(min-width:1024px)',\n  xl: '@media(min-width:1280px)',\n  xxl: '@media(min-width:1536px)',\n};\n\nexport function parseDOM(configs = {\n  mode: 'development',\n  mediaQuery: DEFAULT_MEDIA_QUERY\n}) {\n  if (typeof document === \"undefined\") {\n    console.warn(\"parseDOM() only works in the browser environment.\");\n    return {};\n  }\n\n  const defineClasses = Array.from(document.querySelectorAll(\"[class]\"))\n    .flatMap(el => Array.from(el.classList).filter(cls => cls.includes(\":\")));\n\n  const uniqueClasses = useUniqueClass({ classList: defineClasses, configs: configs });\n\n  return uniqueClasses;\n}\n\nexport function parseFile(classFromCodes, configs = {\n  mode: 'development',\n  mediaQuery: DEFAULT_MEDIA_QUERY\n}) {\n  const defineClasses = Array.from(classFromCodes).filter(cls => cls.includes(\":\"));\n  const uniqueClasses = useUniqueClass({ classList: defineClasses, configs: configs });\n\n  return uniqueClasses;\n}\n\nconst useUniqueClass = ({\n  classList,\n  configs = {\n    mode: 'development',\n    mediaQuery: DEFAULT_MEDIA_QUERY\n  }\n}) => {\n  return classList.reduce((acc, cls) => {\n    try {\n      const { className: classExcludedMedia, media } = useMediaQuery(cls, configs?.mediaQuery || DEFAULT_MEDIA_QUERY);\n      const { className: classExcludedPseudo, pseudoSelector } = usePseudoSelector(classExcludedMedia, configs);\n      const { value, property, cssQuery } = useClassString(classExcludedPseudo, cls);\n      if (acc[cssQuery]) return acc;\n\n      const cssValue = useCssValue(value);\n      const cssProperty = useCssProperty(property);\n      const cssQuerySelector = useCssQuerySelector({ cssQuery, pseudoSelector });\n\n      acc[cssQuery] = {\n        media: media,\n        query: cssQuerySelector,\n        property: cssProperty,\n        value: cssValue\n      };\n\n    } catch (error) {\n      console.error(error);\n    }\n\n    return acc;\n  }, {});\n}\n\nconst useCssQuerySelector = ({\n  cssQuery,\n  pseudoSelector\n}) => {\n  return [cssQuery, pseudoSelector].filter(Boolean).join(':');\n}\n\nconst useCssProperty = (property) => {\n  return cssPropertyMapping[property] || property;\n}\n\nconst useCssValue = (value) => {\n  if (value) {\n    const v = value.replace(/[\\[\\]]/g, \"\").replace(/_/g, \" \");\n    if (v.includes('--') && !v.includes('var')) {\n      return `var(${v})`;\n    }\n    return v;\n  }\n  return value;\n}\n\n\nconst useMediaQuery = (_className, mediaQuery) => {\n  let className = _className;\n  Object.entries(mediaQuery).forEach(([key, value]) => {\n    className = className.replace(`${key}:`, value + ':');\n  });\n\n  const result = {\n    media: null,\n    className: className,\n  };\n\n  const match = className.match(/@media\\([^)]*\\)/);\n  if (match) {\n    result.media = match[0];\n    result.className = className.replace(`${match[0]}:`, '');\n  }\n  return result;\n\n}\n\nconst usePseudoSelector = (className, configs) => {\n  const result = {\n    pseudoSelector: null,\n    className: className,\n  };\n\n  const pseudoSelector = [\n    ...PSEUDO_SELECTORS,\n    ...configs?.pseudoSelectors || []\n  ].find(p => className.includes(p + ':'));\n\n  if (pseudoSelector) {\n    result.pseudoSelector = pseudoSelector;\n    result.className = className.replace(`${pseudoSelector}:`, '');\n  }\n  return result;\n}\n\nconst useClassString = (className, clsOriginal) => {\n  const [classString, value] = className.split(/:(.+)/); // scroll-1.background:[red] => scroll-1.background, [red]\n  const classList = classString.split('.'); // [scroll-1, background]\n  const property = classList.pop(); // background\n  const cssQuery = [...classList, clsOriginal.replace(/[^a-zA-Z0-9_-]/g, (char) => '\\\\' + char)].join('.');\n\n  return {\n    value,\n    property,\n    cssQuery,\n    queryId: id6(),\n  };\n}\n\nexport function injectStyles(uniqueClasses) {\n  if (typeof document === \"undefined\") return;\n\n  const tag = document.createElement(\"style\");\n  tag.innerHTML = Object.entries(uniqueClasses)\n    .map(([_, { media, query, property, value }]) =>\n      media ? `${media}{.${query}{${property}:${value};}}` : `.${query}{${property}:${value};}`\n    )\n    .join(\"\");\n\n  document.body.appendChild(tag);\n}\n\nexport function init() {\n  const uniqueClasses = parseDOM();\n  injectStyles(uniqueClasses);\n}", "import { init, parseDOM, injectStyles } from '../libs/css-magi';\n\nconst uniqueClasses = parseDOM({});\ninjectStyles(uniqueClasses);\n\n\nnew EventSource('/esbuild').addEventListener('change', () => {\n  location.reload();\n});"],
  "mappings": "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",
  "names": ["id6", "PSEUDO_SELECTORS", "cssPropertyMapping", "DEFAULT_MEDIA_QUERY", "parseDOM", "configs", "defineClasses", "el", "cls", "useUniqueClass", "useUniqueClass", "classList", "configs", "DEFAULT_MEDIA_QUERY", "acc", "cls", "classExcludedMedia", "media", "useMediaQuery", "classExcludedPseudo", "pseudoSelector", "usePseudoSelector", "value", "property", "cssQuery", "useClassString", "cssValue", "useCssValue", "cssProperty", "useCssProperty", "cssQuerySelector", "useCssQuerySelector", "error", "cssPropertyMapping", "v", "_className", "mediaQuery", "className", "key", "result", "match", "PSEUDO_SELECTORS", "p", "clsOriginal", "classString", "char", "id6", "injectStyles", "uniqueClasses", "tag", "_", "query", "uniqueClasses", "parseDOM", "injectStyles"]
}
