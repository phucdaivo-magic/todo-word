(()=>{document.addEventListener("DOMContentLoaded",()=>{g()});var g=()=>{let t=document.querySelector(".masonry"),i=document.querySelectorAll(".masonry-item"),d=t.getBoundingClientRect(),{push:l,get:n}=a();Array.from(i).map(e=>new Promise(r=>{let s=e.querySelector("img");s.complete?r(e):s.onload=()=>r(e)})).forEach((e,r)=>{e.then(s=>{let o=n(),c=o.index||o.index===0?o.left:o.left+o.width,p=o.index||o.index===0?o.top+o.height:o.top;s.style.setProperty("position","absolute"),s.style.setProperty("top",`${p}px`),s.style.setProperty("left",`${c}px`),s.style.setProperty("z-index",`${r+1}`),s.style.setProperty("opacity","1");let h=s.getBoundingClientRect(),u=h.width,y=h.height;l({top:p,left:c,width:u,height:y,item:s},o.index)},r*1)})},a=()=>{let t=[];return{push:(l,n)=>{n||n===0?t=t.map((e,r)=>r===n?l:e):t.push(l),console.log(t)},get:()=>{if(t.length===0)return{top:0,left:0,width:0,height:0};if(t.length<3)return[...t].pop();{let l=t.reduce((n,e,r)=>(console.log(e,n),e.top+e.height<=n.top+n.height?{...e,index:r}:n),{...t[0],index:0});return console.log(l),{...l}}}}};new EventSource("/esbuild").addEventListener("change",()=>location.reload());})();
//# sourceMappingURL=masonry.js.map
