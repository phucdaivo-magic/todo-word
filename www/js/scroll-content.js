(()=>{new EventSource("/esbuild").addEventListener("change",()=>location.reload());document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-component='HorizontalScrolling']").forEach(t=>{new s(t)})});var s=class{constructor(t){this.$element=t,this.$imageWrapper=this.$element.querySelector(".image-wrapper"),this.$scrollContent=this.$element.querySelector(".scroll-content"),this.isDragging=!1,this.scrollLeft=0,this.maxScrollLeft=this.$imageWrapper.offsetWidth-this.$scrollContent.clientWidth+30,this.updateStyles(),this.registerEvents(),this.runAnimation()}runAnimation(){let t=this.$imageWrapper.getBoundingClientRect().width-40;this.$imageWrapper.style.setProperty("transform",`translateX(${-t}px)`),this.$scrollContent.style.setProperty("--scroll-content-after-left",`${-t-10}px`),setTimeout(()=>{this.$imageWrapper.style.setProperty("transition","transform 1.5s ease-in-out"),this.$scrollContent.style.setProperty("transition","transform 1.5s ease-in-out"),this.$imageWrapper.style.setProperty("transform","translateX(0px)"),this.$scrollContent.style.setProperty("--scroll-content-after-left","0px")},500),setTimeout(()=>{this.$imageWrapper.style.setProperty("transition","none"),this.$scrollContent.style.setProperty("transition","none")},2e3)}shouldRegisterEvents(t){this.maxScrollLeft>0&&t()}updateStyles(){this.$scrollContent.style.setProperty("overflow","hidden"),this.$scrollContent.style.setProperty("cursor","move")}registerEvents(){this.addMouseDrag(),this.onTouchDrag(),this.onIntersecting()}onIntersecting(){let t={root:null,threshold:1},e=(i,l)=>{i.forEach(r=>{r.isIntersecting?this.runAnimation():console.log("Element is not in view")})};new IntersectionObserver(e,t).observe(this.$element)}addMouseDrag(){this.$element.addEventListener("mousedown",e=>{e.preventDefault(),this.startX=e.clientX,this.isDragging=!0}),this.$element.addEventListener("mousemove",e=>{this.isDragging&&(this.endX=e.clientX,this.distance=this.endX-this.startX,this.updateScroll())});let t=e=>{e.preventDefault(),this.endX=e.clientX,this.scrollLeft=Math.max(Math.min(this.scrollLeft+this.distance,0),-this.maxScrollLeft),this.distance=0,this.updateScroll(),this.isDragging=!1};this.$element.addEventListener("mouseup",t),this.$element.addEventListener("mouseleave",t)}onTouchDrag(){this.$element.addEventListener("touchstart",e=>{e.preventDefault(),this.startX=e.touches[0].clientX,this.isDragging=!0}),this.$element.addEventListener("touchmove",e=>{this.isDragging&&(this.endX=e.touches[0].clientX,this.distance=this.endX-this.startX,this.updateScroll())});let t=e=>{e.preventDefault(),this.endX=e.changedTouches[0].clientX,this.deltaX=this.endX-this.startX,this.startX=null,this.scrollLeft=Math.max(Math.min(this.scrollLeft+this.distance,0),-this.maxScrollLeft),this.distance=0,this.updateScroll(),this.isDragging=!1};this.$element.addEventListener("touchend",t)}updateScroll(){let t=this.scrollLeft+this.distance;t=Math.min(t,0),t=Math.max(t,-this.maxScrollLeft),this.$imageWrapper.style.setProperty("transform",`translateX(${t}px)`),this.$scrollContent.style.setProperty("--scroll-content-after-left",`${t-30}px`)}};})();
