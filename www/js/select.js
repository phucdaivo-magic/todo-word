(()=>{var l=class{constructor(t){this.options={classNameDropdownPopup:"select-dropdown-popup",classNameDropdownOption:"select-dropdown-option",classNameDropdownOpen:"select-dropdown-open",...JSON.parse(t.dataset.options||"{}")};let o=this.createDropdownInput(t);t.after(o),this.createDropdownPopup({$dropdownInput:o,element:t})}getBoundingClientRect(t){return{width:t.getBoundingClientRect().width,height:t.getBoundingClientRect().height,bottom:t.getBoundingClientRect().bottom,left:t.getBoundingClientRect().left,widthCss:t.getBoundingClientRect().width+"px",heightCss:t.getBoundingClientRect().height+"px",bottomCss:t.getBoundingClientRect().bottom+"px",leftCss:t.getBoundingClientRect().left+"px"}}setStyle(t,o){Object.keys(o).forEach(i=>{t.style[i]=o[i]})}createDropdownInput(t){let{widthCss:o,heightCss:i}=this.getBoundingClientRect(t),a=document.createElement("div");return a.classList.add("select-dropdown-input",...Array.from(t.classList)),this.setStyle(a,{width:o,height:i,marginTop:`-${i}`,opacity:"0",boxSizing:"border-box"}),a}createDropdownPopup({$dropdownInput:t,element:o}){let{classNameDropdownPopup:i,classNameDropdownOption:a,classNameDropdownOpen:g}=this.options,s=document.createElement("div");s.classList.add(i),t.textContent=o.options[0].text;let c=e=>{let{bottomCss:d,leftCss:r,widthCss:n}=this.getBoundingClientRect(o);this.setStyle(s,{display:"block",top:d,left:r,width:n,position:"fixed",boxSizing:"border-box",display:"none"}),typeof e=="boolean"&&([o,t,s].forEach(({classList:h})=>{h.toggle(g,e)}),s.style.display=e?"block":"none")},u=({option:e})=>{e.selected=!0,t.textContent=e.text,t.dataset.value=e.value,o.dispatchEvent(new Event("change")),s.querySelectorAll(`.${a}`).forEach(d=>{d.dataset.selected=d.DOMElement.selected})};Array.from(o.options).forEach(e=>{let{value:d,text:r}=e,n=document.createElement("div");n.classList.add(a),n.textContent=r,n.dataset.value=d,n.dataset.binding="option",n.dataset.text=r,n.DOMElement=e,n.addEventListener("click",()=>{t.textContent=r,t.dataset.value=d,c(!1),u({option:e})}),s.appendChild(n)}),(()=>{t.addEventListener("click",()=>{c(!o.classList.contains(g))}),document.addEventListener("click",e=>{!s.contains(e.target)&&!t.contains(e.target)&&c(!1)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&c(!1)}),document.addEventListener("scroll",()=>{c()}),document.addEventListener("resize",()=>{c()})})(),document.body.appendChild(s)}};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".select-dropdown").forEach(p=>{new l(p)})});new EventSource("/esbuild").addEventListener("change",()=>{location.reload()});})();
//# sourceMappingURL=select.js.map
