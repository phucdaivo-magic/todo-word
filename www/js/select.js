(()=>{var l=class{constructor(t){this.options={classNameDropdownPopup:"select-dropdown-popup",classNameDropdownOption:"select-dropdown-option",classNameDropdownOpen:"select-dropdown-open",...JSON.parse(t.dataset.options||"{}")};let o=this.createDropdownInput(t);t.after(o),this.createDropdownPopup({$dropdownInput:o,element:t})}getBoundingClientRect(t){return{width:t.getBoundingClientRect().width,height:t.getBoundingClientRect().height,bottom:t.getBoundingClientRect().bottom,left:t.getBoundingClientRect().left,widthCss:t.getBoundingClientRect().width+"px",heightCss:t.getBoundingClientRect().height+"px",bottomCss:t.getBoundingClientRect().bottom+"px",leftCss:t.getBoundingClientRect().left+"px"}}setStyle(t,o){Object.keys(o).forEach(i=>{t.style[i]=o[i]})}createDropdownInput(t){let{widthCss:o,heightCss:i}=this.getBoundingClientRect(t),d=document.createElement("div");return d.classList.add("select-dropdown-input",...Array.from(t.classList)),this.setStyle(d,{width:o,height:i,marginTop:`-${i}`,opacity:"0",boxSizing:"border-box"}),d}createDropdownPopup({$dropdownInput:t,element:o}){let{classNameDropdownPopup:i,classNameDropdownOption:d,classNameDropdownOpen:u}=this.options,s=document.createElement("div");s.classList.add(i),t.textContent=o.options[0].text;let a=e=>{let{bottomCss:r,leftCss:c,widthCss:n}=this.getBoundingClientRect(o);this.setStyle(s,{top:r,left:c,width:n,position:"fixed",boxSizing:"border-box",display:"none"}),typeof e=="boolean"&&([o,t,s].forEach(({classList:h})=>{h.toggle(u,e)}),s.style.display=e?"block":"none")},g=({option:e})=>{e.selected=!0,t.textContent=e.text,t.dataset.value=e.value,o.dispatchEvent(new Event("change")),s.querySelectorAll(`.${d}`).forEach(r=>{r.dataset.selected=r.DOMElement.selected})};Array.from(o.options).forEach(e=>{let{value:r,text:c}=e,n=document.createElement("div");n.classList.add(d),n.textContent=c,n.dataset.value=r,n.dataset.binding="option",n.dataset.text=c,n.DOMElement=e,n.addEventListener("click",()=>{t.textContent=c,t.dataset.value=r,a(!1),g({option:e})}),s.appendChild(n)}),(()=>{t.addEventListener("click",()=>{a(!o.classList.contains(u))}),document.addEventListener("click",e=>{!s.contains(e.target)&&!t.contains(e.target)&&a(!1)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&a(!1)}),document.addEventListener("scroll",()=>{a()}),document.addEventListener("resize",()=>{a()})})(),document.body.appendChild(s)}};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".select-dropdown").forEach(p=>{new l(p)})});new EventSource("/esbuild").addEventListener("change",()=>{location.reload()});})();
