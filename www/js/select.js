(()=>{var l=class{constructor(e){this.options={classNameDropdownPopup:"select-dropdown-popup",classNameDropdownOption:"select-dropdown-option",classNameDropdownOpen:"select-dropdown-open",...JSON.parse(e.dataset.options||"{}")};let o=this.createDropdownInput(e);e.after(o),this.createDropdownPopup({$dropdownInput:o,element:e})}getBoundingClientRect(e){return{width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height,bottom:e.getBoundingClientRect().bottom,left:e.getBoundingClientRect().left,widthCss:e.getBoundingClientRect().width+"px",heightCss:e.getBoundingClientRect().height+"px",bottomCss:e.getBoundingClientRect().bottom+"px",leftCss:e.getBoundingClientRect().left+"px"}}setStyle(e,o){Object.keys(o).forEach(s=>{e.style[s]=o[s]})}createDropdownInput(e){let{widthCss:o,heightCss:s}=this.getBoundingClientRect(e),d=document.createElement("div");return d.classList.add("select-dropdown-input",...Array.from(e.classList)),this.setStyle(d,{width:o,height:s,marginTop:`-${s}`,opacity:"0",boxSizing:"border-box"}),d}createDropdownPopup({$dropdownInput:e,element:o}){let{classNameDropdownPopup:s,classNameDropdownOption:d,classNameDropdownOpen:u}=this.options,i=document.createElement("div");i.classList.add(s),e.textContent=o.options[0].text;let a=t=>{let{bottomCss:r,leftCss:c,widthCss:n}=this.getBoundingClientRect(o);this.setStyle(i,{display:"block",top:r,left:c,width:n,position:"fixed",boxSizing:"border-box",display:"none"}),typeof t=="boolean"&&([o,e,i].forEach(({classList:h})=>{h.toggle(u,t)}),i.style.display=t?"block":"none")},g=({option:t})=>{t.selected=!0,e.textContent=t.text,e.dataset.value=t.value,o.dispatchEvent(new Event("change")),i.querySelectorAll(`.${d}`).forEach(r=>{r.dataset.selected=r.DOMElement.selected})};Array.from(o.options).forEach(t=>{let{value:r,text:c}=t,n=document.createElement("div");n.classList.add(d),n.textContent=c,n.dataset.value=r,n.dataset.binding="option",n.dataset.text=c,n.DOMElement=t,n.addEventListener("click",()=>{e.textContent=c,e.dataset.value=r,a(!1),g({option:t})}),i.appendChild(n)}),(()=>{e.addEventListener("click",()=>{a(!o.classList.contains(u))}),document.addEventListener("click",t=>{!i.contains(t.target)&&!e.contains(t.target)&&a(!1)}),document.addEventListener("keydown",t=>{t.key==="Escape"&&a(!1)}),document.addEventListener("scroll",()=>{a()}),document.addEventListener("resize",()=>{a()})})(),document.body.appendChild(i)}};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".select-dropdown").forEach(p=>{new l(p)})});new EventSource("/esbuild").addEventListener("change",()=>{location.reload()});})();
